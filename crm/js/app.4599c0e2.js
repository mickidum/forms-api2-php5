(function(t){function e(e){for(var s,r,o=e[0],l=e[1],c=e[2],m=0,d=[];m<o.length;m++)r=o[m],a[r]&&d.push(a[r][0]),a[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},a={app:0},i=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header",{staticClass:"main-header",attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Home")]),n("strong",{staticStyle:{color:"rgba(158, 158, 158, 0.18)"}},[t._v("MICRO CRM")]),n("span",{staticClass:"logout"},[t.isLoggedIn?n("span",{on:{click:t.logout}},[t._v("Logout")]):t._e(),t.isLoggedIn?t._e():n("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)],1),n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)},i=[],r={computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},getTime:function(){return Math.floor(Date.now()/1e3)}},methods:{logout:function(){this.$store.dispatch("logout")},refreshToken:function(){var t=+this.getTime,e=+localStorage.getItem("expires")||t;console.log(e),console.log(t);var n=e-t;if(console.log("Refresh :",n),n>0)setInterval(function(){console.log("ping")},1e3*n)}}},o=r,l=n("2877"),c=Object(l["a"])(o,a,i,!1,null,null,null),u=c.exports,m=n("8c4f"),d=n("2f62"),f=n("bc3a"),p=n.n(f),v={devUrl:"http://localhost:3000/forms-api2/admin",prodUrl:"../admin",userDevUrl:"http://localhost:3000/forms-api2",userUrl:"../"};s["a"].use(d["a"]);var h=v.prodUrl,g=new d["a"].Store({state:{status:"",token:localStorage.getItem("token")||"",allForms:[],currentForm:null,loading:!1},mutations:{auth_request:function(t){t.status="loading"},loading:function(t){t.loading=!t.loading},auth_success:function(t,e){t.status="success",t.token=e},auth_error:function(t){t.status="error"},logout:function(t){t.status="",t.token=""},fillForms:function(t,e){t.allForms=e},currentForm:function(t,e){t.currentForm=e},filteredCurrentForm:function(t,e){t.currentForm.items=e},clearCurrentForm:function(t){t.currentForm=null},clearAllForms:function(t){t.allForms=[]},deleteForm:function(t,e){t.allForms=t.allForms.filter(function(t){return t.form_id!==e})}},actions:{login:function(t,e){var n=t.commit;n("auth_request"),p()({url:"".concat(h,"/token"),data:e,method:"POST"}).then(function(t){var e=t.data.token;localStorage.setItem("token",e),p.a.defaults.headers.common["Authorization"]="Bearer "+e,n("auth_success",e),lt.push("/")}).catch(function(t){n("auth_error"),localStorage.removeItem("token")})},logout:function(t){var e=t.commit;e("logout"),delete p.a.defaults.headers.common["Authorization"],localStorage.removeItem("token"),lt.push("/login")},fillForms:function(t){var e=t.commit,n=t.dispatch;p.a.get("".concat(h,"/getlist")).then(function(t){var n=t.data?t.data:[];e("fillForms",n)}).catch(function(t){401===t.response.status&&n("logout").then(function(){lt.push("/login")})})},fillCurrentForm:function(t,e){var n=t.commit,s=t.dispatch;n("clearCurrentForm"),p.a.get("".concat(h,"/getform/").concat(e)).then(function(t){var e=t.data?t.data:{};n("currentForm",e)}).catch(function(t){401===t.response.status&&s("logout").then(function(){lt.push("/login")})})},removeCheckedItems:function(t,e){var n=t.commit;t.getters;n("filteredCurrentForm",e)},updateCurrentForm:function(t,e){var n=t.commit,s=t.dispatch;p.a.put("".concat(h,"/updateform/").concat(e.form_id),e).then(function(t){var e=t.data?t.data:{};n("currentForm",e)}).catch(function(t){401===t.response.status&&s("logout").then(function(){lt.push("/login")})})},deleteForm:function(t,e){var n=t.commit,s=t.dispatch;n("deleteForm",e.form_id),p.a.put("".concat(h,"/deleteform/").concat(e.form_id),this.state.allForms).then(function(t){n("deleteForm",e)}).catch(function(t){401===t.response.status&&s("logout").then(function(){lt.push("/login")})})}},getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status},getAllForms:function(t){return t.allForms},getCurrentForm:function(t){return t.currentForm}}}),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.allForms?n("div",{staticClass:"all-forms"},[n("h1",[t._v("All Forms Here")]),n("div",{staticClass:"list"},t._l(t.allForms,function(e){return n("router-link",{key:e.form_id,staticClass:"outer-link",attrs:{to:e.form_id}},[n("div",{staticClass:"card"},[n("div",{staticClass:"inners first"},[n("span",[t._v("id:")]),n("span",[t._v(t._s(e.form_id))])]),n("h2",[t._v(t._s(e.title))]),n("div",{staticClass:"inners second"},[n("span",[t._v("source:")]),n("a",{attrs:{href:e.source}},[t._v(t._s(e.source))])]),n("div",{staticClass:"inners third"},[n("span",[t._v("last update:")]),n("span",[t._v(t._s(e.last_update))])])])])}),1)]):t._e()},_=[],y={name:"FormList",computed:{allForms:function(){return this.$store.getters.getAllForms}},mounted:function(){this.$store.dispatch("fillForms")},methods:{}},k=y,x=(n("6ee3"),Object(l["a"])(k,b,_,!1,null,"58eb5bd4",null)),I=x.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.form?n("div",{staticClass:"cont"},[n("div",{staticClass:"single-form"},[n("div",{staticClass:"form-menu"},[t.settings?n("span",{staticClass:"settings",on:{click:function(e){return t.editSettings(t.settings)}}},[t._v("Settings")]):t._e(),n("downloadexcel",{staticClass:"settings button-csv",attrs:{data:t.items,type:"csv",name:t.form.form_id+"_csv-file.csv"}},[t._v("Export csv")]),n("span",{staticClass:"settings button-delete",on:{click:t.deleteForm}},[t._v("Delete form")])],1),n("header",{staticClass:"single-form-header"},[n("h1",[t._v(t._s(t.form.form_name))]),t.checkedRows.length?n("button",{staticClass:"button-xsmall pure-button button-error",on:{click:t.removeChecked}},[t._v("Delete Row")]):t._e()]),n("div",{staticClass:"scrollable"},[n("table",{staticClass:"pure-table single-form-table pure-table-bordered"},[t.itemsNames?n("thead",[n("tr",[n("th",{staticClass:"check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],attrs:{type:"checkbox"},domProps:{value:t.items,checked:Array.isArray(t.selectAll)?t._i(t.selectAll,t.items)>-1:t.selectAll},on:{change:[function(e){var n=t.selectAll,s=e.target,a=!!s.checked;if(Array.isArray(n)){var i=t.items,r=t._i(n,i);s.checked?r<0&&(t.selectAll=n.concat([i])):r>-1&&(t.selectAll=n.slice(0,r).concat(n.slice(r+1)))}else t.selectAll=a},t.checkAll]}})]),n("th",[t._v("#")]),t._l(t.itemsNames,function(e){return n("th",{key:e.name},[t._v(t._s(e.title))])})],2)]):t._e(),t.items?n("tbody",t._l(t.items,function(e,s){return n("tr",{key:s},[n("td",{staticClass:"check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedRows,expression:"checkedRows"}],attrs:{type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.checkedRows)?t._i(t.checkedRows,e)>-1:t.checkedRows},on:{change:function(n){var s=t.checkedRows,a=n.target,i=!!a.checked;if(Array.isArray(s)){var r=e,o=t._i(s,r);a.checked?o<0&&(t.checkedRows=s.concat([r])):o>-1&&(t.checkedRows=s.slice(0,o).concat(s.slice(o+1)))}else t.checkedRows=i}}})]),n("td",[n("div",{staticClass:"edit"},[n("span",[t._v(t._s(s+1))]),n("button",{staticClass:"pure-button button-primary button-xsmall button-secondary",on:{click:function(n){return t.editItem(e,s)}}},[t._v("edit")])])]),t._l(e,function(e,s){return n("td",{key:s},[t._v(t._s(t.ifArray(e)?e.join(", "):e))])})],2)}),0):t._e()])])]),t.editableItem?n("div",{staticClass:"edit-modal"},[n("modal-edit",{attrs:{editableItem:t.editableItem,itemsTitles:t.itemsNames},on:{closeModal:t.closeModal,saveItem:function(e){return t.saveItem(t.editableItem)}}})],1):t._e(),t.settingsItem?n("div",{staticClass:"edit-modal settilngs-modal"},[n("modal-settings",{attrs:{settingsItem:t.settingsItem},on:{closeModal:t.closeModal,saveSettings:t.saveSettings}})],1):t._e()]):t._e()},w=[],F=(n("20d6"),n("2ef0")),A=n.n(F),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inner"},[n("div",{staticClass:"close"},[n("span",{on:{click:t.closeModal}},[t._v("×")])]),n("form",{staticClass:"pure-form pure-form-stacked",on:{submit:function(e){return e.preventDefault(),t.saveItem(e)}}},[n("div",[t._l(t.itemsTitles,function(e){return[t._l(t.editableItem,function(s,a){return e.name===a?[t.ifArray(s)?t.ifArray(s)?n("div",{staticClass:"is-array input-item"},[n("p",[t._v("\n              "+t._s(e.title)+"\n              "),n("span",{staticClass:"pure-button button-xsmall button-secondary",on:{click:function(e){return t.addField(a)}}},[t._v("add field")])]),t._l(s,function(e,s){return n("div",{staticClass:"delete-field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.editableItem[a][s],expression:"editableItem[key][index]"}],attrs:{type:"text",placeholder:"name of "+a},domProps:{value:t.editableItem[a][s]},on:{input:function(e){e.target.composing||t.$set(t.editableItem[a],s,e.target.value)}}}),n("span",{on:{click:function(e){return t.delField(s,a)}}},[t._v("-")])])})],2):t._e():n("label",{staticClass:"input-item"},["item_id"!==a&&"date"!==a?[t._v("\n              "+t._s(e.title)+"\n              "),t.words(s)<=3?n("input",{directives:[{name:"model",rawName:"v-model",value:t.editableItem[a],expression:"editableItem[key]"}],attrs:{type:"text"},domProps:{value:t.editableItem[a]},on:{input:function(e){e.target.composing||t.$set(t.editableItem,a,e.target.value)}}}):t._e(),t.words(s)>3?n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editableItem[a],expression:"editableItem[key]"}],domProps:{value:t.editableItem[a]},on:{input:function(e){e.target.composing||t.$set(t.editableItem,a,e.target.value)}}}):t._e()]:t._e()],2)]:t._e()})]})],2),n("p",[n("button",{staticClass:"pure-button pure-button-primary",attrs:{type:"submit"}},[t._v("Save Item")]),t._v(" \n      "),n("button",{staticClass:"pure-button button-secondary pure-button-primary",on:{click:function(e){return e.preventDefault(),t.closeModal(e)}}},[t._v("Cancel")])])])])},S=[],j=(n("28a5"),n("ac6a"),n("456d"),{props:["editableItem","itemsTitles"],mounted:function(){document.body.classList.add("no-scroll")},methods:{closeModal:function(){document.body.classList.remove("no-scroll"),this.$emit("closeModal")},saveItem:function(t){this.clearEmptyArraysFields(this.editableItem),this.$emit("saveItem",t)},clearEmptyArraysFields:function(t){var e=this,n=Object.keys(t).filter(function(n){if(e.ifArray(t[n]))return n});n.length&&n.forEach(function(t){e.editableItem[t]=e.editableItem[t].filter(function(t){return t=t.trim(),""!==t})})},words:function(t){var e=t.split(/[\s,]/);return e.length},ifArray:function(t){return!!Array.isArray(t)},findEmptyFields:function(t){var e=t.filter(function(t){return""===t});return!!e.length},addField:function(t){this.editableItem[t]=Object.assign([],this.editableItem[t]),this.findEmptyFields(this.editableItem[t])||this.editableItem[t].unshift("")},delField:function(t,e){this.editableItem[e]=this.editableItem[e].filter(function(e,n){return n!==t})}}}),E=j,O=Object(l["a"])(E,$,S,!1,null,null,null),R=O.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.settingsItem?n("div",{staticClass:"inner"},[n("div",{staticClass:"close"},[n("span",{on:{click:t.closeModal}},[t._v("×")])]),n("form",{staticClass:"pure-form pure-form-stacked",on:{submit:function(e){return e.preventDefault(),t.saveSettings(e)}}},[n("div",{staticClass:"pure-g"},[n("div",{staticClass:"pure-u-1 pure-u-lg-1-3 l-box"},[t.settingsItem.items_names?[t._m(0),[n("div",{staticClass:"validate-container"},t._l(t.settingsItem.items_names,function(e){return n("div",{staticClass:"items-names"},[n("label",{staticClass:"settings-input-item"},[t._v("\n                  "+t._s(e.name)+"\n                  "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"item.title"}],attrs:{type:"text"},domProps:{value:e.title},on:{input:function(n){n.target.composing||t.$set(e,"title",n.target.value)}}})])])}),0)]]:t._e()],2),n("div",{staticClass:"pure-u-1 pure-u-lg-1-3 l-box"},[t.settingsItem.mail?[t._m(1),[n("div",{staticClass:"validate-container"},t._l(t.settingsItem.mail,function(e,s){return n("div",{staticClass:"items-names"},["send"===s?n("span",{class:["pure-button button-small",t.settingsItem.mail.send?"button-error":"button-success"],staticStyle:{margin:"10px 0"},on:{click:function(e){t.settingsItem.mail.send=!t.settingsItem.mail.send}},model:{value:t.settingsItem.mail.send,callback:function(e){t.$set(t.settingsItem.mail,"send",e)},expression:"settingsItem.mail.send"}},[t._v(t._s(t.settingsItem.mail.send?"Click for disable mail":"Click for enable mail"))]):n("label",{staticClass:"settings-input-item"},[t._v("\n                  "+t._s(s)+"\n                  "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.settingsItem.mail[s],expression:"settingsItem.mail[key]"}],attrs:{type:"text"},domProps:{value:t.settingsItem.mail[s]},on:{input:function(e){e.target.composing||t.$set(t.settingsItem.mail,s,e.target.value)}}})])])}),0)]]:t._e()],2),n("div",{staticClass:"pure-u-1 pure-u-lg-1-3 l-box"},[t.settingsItem.validation?[t._m(2),[n("div",{staticClass:"items-names"},[n("div",{staticClass:"validate-container"},[n("span",{class:["pure-button button-small",t.settingsItem.validation.validate?"button-error":"button-success"],staticStyle:{display:"inline-block",margin:"10px 0"},on:{click:function(e){t.settingsItem.validation.validate=!t.settingsItem.validation.validate}},model:{value:t.settingsItem.validation.validate,callback:function(e){t.$set(t.settingsItem.validation,"validate",e)},expression:"settingsItem.validation.validate"}},[t._v(t._s(t.settingsItem.validation.validate?"Click for disable validation":"Click for validate"))]),n("br"),t.settingsItem.items_names?[n("strong",[t._v("Items to validate")]),t._l(t.settingsItem.items_names,function(e){return n("div",{staticClass:"validate-items"},["date"!==e.name?n("label",{class:["custom-ch",t.checkValidate(e.name)?"custom-ch-checked":null]},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settingsItem.validation.validate_items,expression:"settingsItem.validation.validate_items"}],attrs:{type:"checkbox"},domProps:{value:e.name,checked:Array.isArray(t.settingsItem.validation.validate_items)?t._i(t.settingsItem.validation.validate_items,e.name)>-1:t.settingsItem.validation.validate_items},on:{change:function(n){var s=t.settingsItem.validation.validate_items,a=n.target,i=!!a.checked;if(Array.isArray(s)){var r=e.name,o=t._i(s,r);a.checked?o<0&&t.$set(t.settingsItem.validation,"validate_items",s.concat([r])):o>-1&&t.$set(t.settingsItem.validation,"validate_items",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(t.settingsItem.validation,"validate_items",i)}}})]):t._e(),n("span",[t._v(t._s("date"==e.name?null:e.title))])])})]:t._e()],2),t.settingsItem.validation.messages?n("div",{staticClass:"validate-container"},[n("strong",[t._v("Messages")]),t._l(t.settingsItem.validation.messages,function(e,s){return n("div",{staticClass:"items-names"},[n("label",{staticClass:"settings-input-item"},[t._v("\n                    "+t._s(s)+"\n                    "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.settingsItem.validation.messages[s],expression:"settingsItem.validation.messages[key]"}],attrs:{type:"text"},domProps:{value:t.settingsItem.validation.messages[s]},on:{input:function(e){e.target.composing||t.$set(t.settingsItem.validation.messages,s,e.target.value)}}})])])})],2):t._e()])]]:t._e()],2),n("div",{staticClass:"pure-u-1 l-box"},[n("p",[n("button",{staticClass:"pure-button pure-button-primary",attrs:{type:"submit"}},[t._v("Save Settings")]),t._v(" \n          "),n("button",{staticClass:"pure-button button-secondary pure-button-primary",on:{click:function(e){return e.preventDefault(),t.closeModal(e)}}},[t._v("Cancel")])])])])])]):t._e()},P=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"heading"},[n("strong",[t._v("Items Names")]),t._v(" \n            "),n("span",[t._v("( change items titles )")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"heading"},[n("strong",[t._v("Mail Sending")]),t._v(" \n            "),n("span",[t._v("( set email rules )")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"heading"},[n("strong",[t._v("Validation")]),t._v(" \n            "),n("span",[t._v("( set validation rules )")])])}],T={props:["settingsItem"],mounted:function(){document.body.classList.add("no-scroll")},methods:{closeModal:function(){document.body.classList.remove("no-scroll"),this.$emit("closeModal")},saveSettings:function(){this.$emit("saveSettings")},checkValidate:function(t){var e=this.settingsItem.validation.validate_items.indexOf(t);return!(e<0)}}},N=T,D=Object(l["a"])(N,M,P,!1,null,null,null),L=D.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{attrs:{id:t.idName},on:{click:t.generate}},[t._t("default",[t._v("\n\t\tDownload "+t._s(t.name)+"\n\t")])],2)},q=[],U=(n("6aa2"),n("ac4d"),n("8a81"),n("7618")),W=(n("4917"),n("34ef"),n("7f7f"),n("a481"),n("96cf"),n("3b8d")),B=n("aeb1"),G=n.n(B),z={props:{type:{type:String,default:"xls"},data:{type:Array,required:!1,default:null},fields:{type:Object,required:!1},exportFields:{type:Object,required:!1},defaultValue:{type:String,required:!1,default:""},title:{default:null},footer:{default:null},name:{type:String,default:"data.xls"},fetch:{type:Function},meta:{type:Array,default:function(){return[]}},worksheet:{type:String,default:"Sheet1"},beforeGenerate:{type:Function},beforeFinish:{type:Function}},computed:{idName:function(){var t=(new Date).getTime();return"export_"+t},downloadFields:function(){return void 0!==this.fields?this.fields:void 0!==this.exportFields?this.exportFields:void 0}},methods:{generate:function(){var t=Object(W["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("function"!==typeof this.beforeGenerate){t.next=3;break}return t.next=3,this.beforeGenerate();case 3:if(e=this.data,"function"!==typeof this.fetch&&e){t.next=8;break}return t.next=7,this.fetch();case 7:e=t.sent;case 8:if(e&&e.length){t.next=10;break}return t.abrupt("return");case 10:if(n=this.getProcessedJson(e,this.downloadFields),"html"!==this.type){t.next=15;break}return t.abrupt("return",this.export(this.jsonToXLS(n),this.name.replace(".xls",".html"),"text/html"));case 15:if("csv"!==this.type){t.next=17;break}return t.abrupt("return",this.export(this.jsonToCSV(n),this.name.replace(".xls",".csv"),"application/csv;charset=utf-8;"));case 17:return t.abrupt("return",this.export(this.jsonToXLS(n),this.name,"application/vnd.ms-excel"));case 18:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),export:function(){var t=Object(W["a"])(regeneratorRuntime.mark(function t(e,n,s){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=new Blob([new Uint8Array([239,187,191]),e],{type:"text/csv;charset=utf-8;"}),"function"!==typeof this.beforeFinish){t.next=4;break}return t.next=4,this.beforeFinish();case 4:G()(a,n,s);case 5:case"end":return t.stop()}},t,this)}));function e(e,n,s){return t.apply(this,arguments)}return e}(),jsonToXLS:function(t){var e='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content="Microsoft Excel 11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>${worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>br {mso-data-placement: same-cell;}</style></head><body><table>${table}</table></body></html>',n="<thead>",s=Object.keys(t[0]).length,a=this;for(var i in null!=this.title&&(n+=this.parseExtraData(this.title,'<tr><th colspan="'+s+'">${data}</th></tr>')),n+="<tr>",t[0])n+="<th>"+i+"</th>";return n+="</tr>",n+="</thead>",n+="<tbody>",t.map(function(t,e){for(var s in n+="<tr>",t)n+="<td>"+a.valueReformattedForMultilines(t[s])+"</td>";n+="</tr>"}),n+="</tbody>",null!=this.footer&&(n+="<tfoot>",n+=this.parseExtraData(this.footer,'<tr><td colspan="'+s+'">${data}</td></tr>'),n+="</tfoot>"),e.replace("${table}",n).replace("${worksheet}",this.worksheet)},jsonToCSV:function(t){var e=[];for(var n in null!=this.title&&e.push(this.parseExtraData(this.title,"${data}\r\n")),t[0])e.push(n),e.push(",");return e.pop(),e.push("\r\n"),t.map(function(t){for(var n in t){var s='="'+t[n]+'"';s.match(/[,"\n]/)&&(s='"'+s.replace(/\"/g,'""')+'"'),e.push(s),e.push(",")}e.pop(),e.push("\r\n")}),null!=this.footer&&e.push(this.parseExtraData(this.footer,"${data}\r\n")),e.join("")},getProcessedJson:function(t,e){var n=this.getKeys(t,e),s=[],a=this;return t.map(function(t,e){var i={};for(var r in n){var o=n[r];i[r]=a.getValue(o,t)}s.push(i)}),s},getKeys:function(t,e){if(e)return e;var n={};for(var s in t[0])n[s]=s;return n},parseExtraData:function(t,e){var n="";if(Array.isArray(t))for(var s=0;s<t.length;s++)n+=e.replace("${data}",t[s]);else n+=e.replace("${data}",t);return n},getValue:function(t,e){var n="object"!==Object(U["a"])(t)?t:t.field,s="string"!==typeof n?[]:n.split("."),a=this.defaultValue;return a=n?s.length>1?this.getValueFromNestedItem(e,s):this.parseValue(e[n]):e,t.hasOwnProperty("callback")&&(a=this.getValueFromCallback(a,t.callback)),a},valueReformattedForMultilines:function(t){return"string"==typeof t?t.replace(/\n/gi,"<br/>"):t},getValueFromNestedItem:function(t,e){var n=t,s=!0,a=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var l=r.value;n&&(n=n[l])}}catch(c){a=!0,i=c}finally{try{s||null==o.return||o.return()}finally{if(a)throw i}}return this.parseValue(n)},getValueFromCallback:function(t,e){if("function"!==typeof e)return this.defaultValue;var n=e(t);return this.parseValue(n)},parseValue:function(t){return t||0===t||"boolean"===typeof t?t:this.defaultValue},base64ToBlob:function(t,e){var n=window.btoa(window.unescape(encodeURIComponent(t))),s=atob(n),a=s.length,i=new Uint8ClampedArray(a);while(a--)i[a]=s.charCodeAt(a);return new Blob([i],{type:e})}}},J=z,H=Object(l["a"])(J,V,q,!1,null,null,null),X=H.exports,K={components:{ModalEdit:R,ModalSettings:L,downloadexcel:X},data:function(){return{checkedRows:[],selectAll:!1,editableItem:null,settingsItem:null}},computed:{form:function(){return this.$store.getters.getCurrentForm},itemsNames:function(){return this.form.settings.items_names},items:function(){return this.form.items},settings:function(){return this.form.settings}},methods:{ifArray:function(t){return!!Array.isArray(t)},checkAll:function(){this.selectAll?this.checkedRows=this.items:this.checkedRows=[]},removeChecked:function(){var t=confirm("Delete Checked Rows?");if(t){var e=A.a.difference(this.items,this.checkedRows);this.updateForm(e),this.checkedRows=[],this.selectAll=!1}},deleteForm:function(){var t=confirm("Delete This Form?");t&&(this.$store.dispatch("deleteForm",this.form),this.$router.push("/"))},editItem:function(t,e){this.settingsItem=null,window.scrollTo({top:0}),this.editableItem=Object.assign({},t)},editSettings:function(t){this.settingsItem=Object.assign({},t)},saveItem:function(t){var e=confirm("Save Changes?");if(e){var n=A.a.findIndex(this.items,{item_id:t.item_id}),s=this.items;s.splice(n,1,t),this.updateForm(),this.closeModal()}},saveSettings:function(t){var e=confirm("Save Settings?");e&&(this.updateForm(t),this.closeModal())},flatArray:function(t){return Array.isArray(t)?t.join(", "):t},updateForm:function(t){var e=this.form;e.items=t||this.items,this.$store.dispatch("updateCurrentForm",e)},closeModal:function(){this.editableItem=null,this.settingsItem=null,this.itemsTitles=null}},mounted:function(){this.$store.dispatch("fillCurrentForm",this.$route.params.form_id)}},Q=K,Y=Object(l["a"])(Q,C,w,!1,null,null,null),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edit-modal"},[n("div",{staticClass:"inner inner-login"},[n("div",[n("form",{staticClass:"login pure-form pure-form-stacked",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[n("h1",[t._v("DASHBOARD")]),n("label",[t._v("\n          Login\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"input-item1",attrs:{required:"",type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),n("label",[t._v("\n          Password\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input-item1",attrs:{required:"",type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._m(0)]),n("p",{class:["error"===t.status?"error":""]},[t._v(t._s(t.status))])]),n("p",[t._v("\n      For reset login and password delete file '.env'\n      and\n      "),n("a",{staticStyle:{color:"#0078e7"},attrs:{href:t.userUrl}},[t._v("follow link")])])])])},et=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("button",{staticClass:"pure-button pure-button-primary",attrs:{type:"submit"}},[t._v("Login")])])}],nt=v.userUrl,st={name:"Login",data:function(){return{username:"admin",password:"qazwsx",userUrl:nt}},computed:{status:function(){return this.$store.getters.authStatus}},methods:{login:function(){var t=this.username,e=this.password;this.$store.dispatch("login",{username:t,password:e})}}},at=st,it=Object(l["a"])(at,tt,et,!1,null,null,null),rt=it.exports;s["a"].use(m["a"]);var ot=new m["a"]({mode:"history",base:"",routes:[{path:"/",name:"formList",component:I,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:rt},{path:"/:form_id",name:"form",component:Z,meta:{requiresAuth:!0}}]});ot.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.requiresAuth})?g.getters.isLoggedIn?n():n("/login"):n()});var lt=ot;n("b73b"),n("9342"),n("a0d8");s["a"].config.productionTip=!1,s["a"].prototype.$http=p.a;var ct=localStorage.getItem("token");ct&&(s["a"].prototype.$http.defaults.headers.common["Authorization"]="Bearer "+ct),s["a"].prototype.$http.interceptors.response.use(function(t){return t},function(t){return g.dispatch("logout"),Promise.reject(t)}),new s["a"]({router:lt,store:g,render:function(t){return t(u)}}).$mount("#app")},"5e8a":function(t,e,n){},"6ee3":function(t,e,n){"use strict";var s=n("5e8a"),a=n.n(s);a.a},9342:function(t,e,n){},a0d8:function(t,e,n){},b73b:function(t,e,n){}});
//# sourceMappingURL=app.4599c0e2.js.map